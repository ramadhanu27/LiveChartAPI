<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dokumentasi API LiveChart</title>
  <style>
    :root {
      --background: #ffffff;
      --text-color: #1a1a1a;
      --text-secondary: #666666;
      --primary-color: #3b82f6;
      --primary-dark: #1e40af;
      --primary-light: #dbeafe;
      --border-color: #e5e7eb;
      --nav-background: #f8fafc;
      --code-background: #f1f5f9;
      --code-text: #dc2626;
      --string-color: #059669;
      --number-color: #2563eb;
      --key-color: #d97706;
      --success-color: #10b981;
      --warning-color: #f59e0b;
      --error-color: #ef4444;
      --shadow-color: rgba(0, 0, 0, 0.08);
      --shadow-lg: rgba(0, 0, 0, 0.12);
    }

    :root.dark-mode {
      --background: #0f172a;
      --text-color: #f1f5f9;
      --text-secondary: #cbd5e1;
      --primary-color: #60a5fa;
      --primary-dark: #3b82f6;
      --primary-light: #1e3a8a;
      --border-color: #334155;
      --nav-background: #1e293b;
      --code-background: #1e293b;
      --code-text: #f87171;
      --string-color: #6ee7b7;
      --number-color: #93c5fd;
      --key-color: #fbbf24;
      --success-color: #6ee7b7;
      --warning-color: #fcd34d;
      --error-color: #f87171;
      --shadow-color: rgba(0, 0, 0, 0.3);
      --shadow-lg: rgba(0, 0, 0, 0.5);
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      background-color: var(--background);
      color: var(--text-color);
      line-height: 1.6;
      transition: background-color 0.3s, color 0.3s;
    }

    /* --- Sidebar Navigation --- */
    nav.sidebar {
      width: 280px;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      background-color: var(--nav-background);
      border-right: 1px solid var(--border-color);
      overflow-y: auto;
      padding: 20px;
      box-sizing: border-box;
      box-shadow: 2px 0 5px var(--shadow-color);
      z-index: 1000;
    }

    nav.sidebar h1 {
      font-size: 1.5rem;
      margin: 0 0 20px 0;
      color: var(--primary-color);
    }

    nav.sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    nav.sidebar li {
      margin-bottom: 5px;
    }

    nav.sidebar li.group-title {
      font-size: 0.9rem;
      font-weight: bold;
      margin-top: 20px;
      margin-bottom: 10px;
      color: #555;
      text-transform: uppercase;
    }

    nav.sidebar a {
      text-decoration: none;
      color: var(--text-color);
      display: block;
      padding: 8px 12px;
      border-radius: 5px;
      font-size: 0.95rem;
      transition: background-color 0.2s, color 0.2s;
    }

    nav.sidebar a:hover {
      background-color: var(--border-color);
    }

    nav.sidebar a.active {
      background-color: var(--primary-color);
      color: var(--background);
      font-weight: bold;
    }

    /* --- Main Content --- */
    main.content {
      margin-left: 280px;
      padding: 40px;
      width: calc(100% - 280px);
      box-sizing: border-box;
    }

    section {
      padding-top: 20px;
      margin-bottom: 60px;
    }

    h2 {
      border-bottom: 2px solid var(--primary-color);
      padding-bottom: 10px;
      margin-top: 0;
      font-size: 2rem;
    }

    h3 {
      font-size: 1.5rem;
      margin-top: 40px;
      margin-bottom: 15px;
    }

    p {
      margin-bottom: 15px;
    }

    /* --- Endpoint Styling --- */
    .endpoint-url {
      background-color: var(--code-background);
      border: 1px solid var(--border-color);
      padding: 10px 15px;
      border-radius: 5px;
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
      font-size: 1.1rem;
      word-break: break-all;
      box-shadow: 0 2px 5px var(--shadow-color);
    }

    .endpoint-url.interactive {
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .endpoint-url.interactive:hover {
      background-color: #e9ecef;
    }

    .endpoint-url.interactive.active {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
      border-color: var(--primary-color);
    }

    .endpoint-url .method {
      display: inline-block;
      padding: 5px 10px;
      border-radius: 5px;
      color: var(--background);
      font-weight: bold;
      margin-right: 15px;
      font-size: 1rem;
    }

    .endpoint-url .get {
      background-color: var(--primary-color);
    }

    .endpoint-url .post {
      background-color: var(--success-color);
    }

    .toggle-icon {
      float: right;
      font-weight: bold;
      color: #777;
    }

    .endpoint-open-btn {
      float: right;
      margin-left: 10px;
      font-weight: bold;
      color: var(--primary-color);
      cursor: pointer;
      text-decoration: none;
      padding: 2px 8px;
      border-radius: 3px;
      transition: background-color 0.2s;
    }

    .endpoint-open-btn:hover {
      background-color: #e9ecef;
    }

    /* --- Response Container --- */
    .response-container {
      display: none;
      /* Hidden by default */
      border: 2px solid var(--primary-color);
      border-top: none;
      border-bottom-left-radius: 5px;
      border-bottom-right-radius: 5px;
      padding: 15px;
      margin-bottom: 20px;
      background-color: var(--code-background);
      box-shadow: 0 2px 5px var(--shadow-color);
    }

    .response-container.visible {
      display: block;
      /* Shown by JS */
    }

    .response-container h4 {
      margin: 0 0 15px 0;
      font-size: 1.1rem;
    }

    .status-code {
      margin-bottom: 10px;
      font-size: 1rem;
    }

    .status-ok {
      color: var(--success-color);
      font-weight: bold;
    }

    .status-error {
      color: var(--error-color);
      font-weight: bold;
    }


    /* --- Code Blocks --- */
    pre {
      background-color: var(--code-background);
      border: 1px solid var(--border-color);
      border-radius: 5px;
      padding: 15px;
      overflow-x: auto;
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
      font-size: 0.95rem;
      margin-top: 0;
      color: var(--text-color);
    }

    code {
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
    }

    pre code {
      color: var(--text-color);
    }

    pre.json .string {
      color: var(--string-color);
    }

    pre.json .number {
      color: var(--number-color);
    }

    pre.json .key {
      color: var(--key-color);
    }

    pre.json .boolean,
    pre.json .null {
      color: var(--primary-color);
    }

    /* Inline code */
    :not(pre)>code {
      background-color: var(--code-background);
      color: var(--code-text);
      padding: 2px 5px;
      border-radius: 3px;
      border: 1px solid var(--border-color);
    }


    /* --- Tables --- */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    th,
    td {
      border: 1px solid var(--border-color);
      padding: 10px 15px;
      text-align: left;
    }

    th {
      background-color: var(--nav-background);
      font-weight: bold;
    }

    td:first-child {
      font-weight: bold;
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
    }

    /* --- Status Indicator --- */
    .status-indicator {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 16px;
      background-color: var(--primary-light);
      border: 1px solid var(--primary-color);
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 0.95rem;
    }

    .status-indicator.loading {
      background-color: #fef3c7;
      border-color: var(--warning-color);
    }

    .status-indicator.error {
      background-color: #fee2e2;
      border-color: var(--error-color);
    }

    .status-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: var(--success-color);
      animation: pulse 2s infinite;
    }

    .status-dot.loading {
      background-color: var(--warning-color);
      animation: pulse-warning 1s infinite;
    }

    .status-dot.error {
      background-color: var(--error-color);
      animation: none;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    @keyframes pulse-warning {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.6; }
    }

    .status-text {
      color: var(--text-color);
      font-weight: 500;
    }

    .status-time {
      color: var(--text-secondary);
      font-size: 0.85rem;
      margin-left: auto;
    }

    /* --- Header with Status --- */
    .header-section {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 2px solid var(--border-color);
    }

    .header-title {
      margin: 0;
      font-size: 2.5rem;
      color: var(--text-color);
    }

    .theme-toggle {
      background-color: var(--nav-background);
      border: 1px solid var(--border-color);
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      transition: all 0.2s;
    }

    .theme-toggle:hover {
      background-color: var(--border-color);
    }

    /* --- Improved Endpoint Styling --- */
    .endpoint-url {
      background-color: var(--code-background);
      border: 1px solid var(--border-color);
      padding: 14px 16px;
      border-radius: 8px;
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
      font-size: 1rem;
      word-break: break-all;
      box-shadow: 0 1px 3px var(--shadow-color);
      transition: all 0.2s;
    }

    .endpoint-url.interactive {
      cursor: pointer;
    }

    .endpoint-url.interactive:hover {
      border-color: var(--primary-color);
      box-shadow: 0 4px 12px var(--shadow-lg);
      transform: translateY(-2px);
    }

    .endpoint-url.interactive.active {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
      border-color: var(--primary-color);
      box-shadow: 0 4px 12px var(--shadow-lg);
    }

    /* --- Responsive Design --- */
    @media (max-width: 900px) {
      body {
        flex-direction: column;
      }

      nav.sidebar {
        width: 100%;
        height: auto;
        position: static;
        border-right: none;
        border-bottom: 1px solid var(--border-color);
        box-shadow: 0 2px 5px var(--shadow-color);
      }

      main.content {
        margin-left: 0;
        width: 100%;
        padding: 20px;
      }

      .header-section {
        flex-direction: column;
        gap: 15px;
        align-items: flex-start;
      }

      .header-title {
        font-size: 1.8rem;
      }
    }
  </style>
</head>

<body>

  <nav class="sidebar">
    <h1>API LiveChart</h1>
    <ul>
      <li class="group-title">Dasar</li>
      <li><a href="#memulai">Memulai</a></li>
      <li><a href="#info">Info Sistem</a></li>

      <li class="group-title">Anime</li>
      <li><a href="#anime-list">Daftar Anime</a></li>
      <li><a href="#anime-detail">Detail Anime</a></li>

      <li class="group-title">Movie</li>
      <li><a href="#movie-list">Daftar Movie</a></li>
      <li><a href="#movie-detail">Detail Movie</a></li>

      <li class="group-title">OVA</li>
      <li><a href="#ova-list">Daftar OVA</a></li>

      <li class="group-title">Lain-lain</li>
      <li><a href="#all-list">Daftar Semua</a></li>
      <li><a href="#statistik">Statistik</a></li>
      <li><a href="#export">Export JSON</a></li>
    </ul>
  </nav>

  <main class="content">
    <div class="header-section">
      <h1 class="header-title">ðŸ“Š LiveChart API</h1>
      <button class="theme-toggle" id="themeToggle">ðŸŒ™ Dark Mode</button>
    </div>

    <div class="status-indicator" id="statusIndicator">
      <div class="status-dot"></div>
      <span class="status-text">Checking API status...</span>
      <span class="status-time" id="statusTime"></span>
    </div>

    <section id="memulai">
      <h2>Memulai</h2>
      <p>Selamat datang di dokumentasi API LiveChart Scraper. API ini mengambil data dari <code>livechart.me</code> dan
        menyajikannya melalui endpoint RESTful.</p>
      <p>Server berjalan di <code>https://live-chart-api.vercel.app</code>.</p>

      <h3>Instalasi</h3>
      <pre><code>npm install</code></pre>

      <h3>Menjalankan Server</h3>
      <pre><code>npm start</code></pre>

      <h3>Struktur Respon (Sukses)</h3>
      <p>Semua respon yang berhasil akan mengikuti format:</p>
      <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": [...],
  "<span class="key">"total"</span>": <span class="number">96</span>,
  "<span class="key">"timestamp"</span>": <span class="string">"2025-11-16T20:39:00.000Z"</span>
}</code></pre>
      <h3>Struktur Respon (Error)</h3>
      <p>Semua respon error akan mengikuti format:</p>
      <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">false</span>,
  "<span class="key">"error"</span>": <span class="string">"Pesan error..."</span>,
  "<span class="key">"timestamp"</span>": <span class="string">"2025-11-16T20:39:00.000Z"</span>
}</code></pre>
    </section>

    <section id="info">
      <h2>Info Sistem</h2>

      <h3>Status & Kredit API</h3>
      <div class="endpoint-url interactive" data-target="#res-info-root"><span class="toggle-icon">[ + ]</span><a
          class="endpoint-open-btn" data-path="/" title="Buka di tab baru">ðŸ”—</a><span class="method get">GET</span> /
      </div>
      <div class="response-container" id="res-info-root">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"api"</span>": {
    "<span class="key">"name"</span>": <span class="string">"LiveChart API Scraper"</span>,
    "<span class="key">"version"</span>": <span class="string">"1.0.0"</span>,
    "<span class="key">"description"</span>": <span class="string">"Web scraper..."</span>,
    "<span class="key">"status"</span>": <span class="string">"running"</span>,
    "<span class="key">"uptime"</span>": <span class="number">3600</span>,
    "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
  },
  "<span class="key">"credit"</span>": { ... },
  "<span class="key">"endpoints"</span>": { ... },
  "<span class="key">"documentation"</span>": { ... }
}</code></pre>
      </div>

      <h3>Health Check</h3>
      <div class="endpoint-url interactive" data-target="#res-info-health"><span class="toggle-icon">[ + ]</span><a
          class="endpoint-open-btn" data-path="/api/health" title="Buka di tab baru">ðŸ”—</a><span
          class="method get">GET</span> /api/health</div>
      <div class="response-container" id="res-info-health">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"status"</span>": <span class="string">"ok"</span>,
  "<span class="key">"timestamp"</span>": <span class="string">"2025-11-16T20:39:00.000Z"</span>,
  "<span class="key">"uptime"</span>": <span class="number">3601</span>
}</code></pre>
      </div>

      <h3>Musim & Tahun Tersedia</h3>
      <div class="endpoint-url interactive" data-target="#res-info-seasons"><span class="toggle-icon">[ + ]</span><span
          class="method get">GET</span> /api/info/seasons</div>
      <div class="response-container" id="res-info-seasons">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": {
    "<span class="key">"seasons"</span>": [<span class="string">"winter"</span>, <span class="string">"spring"</span>, <span class="string">"summer"</span>, <span class="string">"fall"</span>],
    "<span class="key">"years"</span>": [<span class="number">2020</span>, ..., <span class="number">2025</span>, <span class="number">2026</span>],
    "<span class="key">"currentYear"</span>": <span class="number">2025</span>
  },
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>

      <h3>Info Cache</h3>
      <div class="endpoint-url interactive" data-target="#res-info-cache"><span class="toggle-icon">[ + ]</span><a
          class="endpoint-open-btn" data-path="/api/anime/info/cache" title="Buka di tab baru">ðŸ”—</a><span
          class="method get">GET</span> /api/anime/info/cache</div>
      <div class="response-container" id="res-info-cache">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": {
    "<span class="key">"totalKeys"</span>": <span class="number">2</span>,
    "<span class="key">"keys"</span>": [
      {
        "<span class="key">"key"</span>": <span class="string">"fall-2025"</span>,
        "<span class="key">"count"</span>": <span class="number">96</span>,
        "<span class="key">"age"</span>": <span class="number">3600000</span>,
        "<span class="key">"isValid"</span>": <span class="boolean">true</span>
      }
    ]
  },
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>
    </section>

    <section id="anime-list">
      <h2>Anime (Daftar)</h2>

      <h3>Dapatkan Semua Anime</h3>
      <div class="endpoint-url interactive" data-target="#res-anime-list"><span class="toggle-icon">[ + ]</span><span
          class="method get">GET</span> /api/anime</div>
      <p>Mengambil daftar semua anime TV untuk musim dan tahun tertentu. Default ke musim saat ini jika tidak ada
        parameter.</p>
      <h4>Parameter Kueri</h4>
      <table>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Tipe</th>
            <th>Deskripsi</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>season</code></td>
            <td>String</td>
            <td>Opsional. Musim (<code>winter</code>, <code>spring</code>, <code>summer</code>, <code>fall</code>).</td>
          </tr>
          <tr>
            <td><code>year</code></td>
            <td>Integer</td>
            <td>Opsional. Tahun (mis. <code>2025</code>).</td>
          </tr>
        </tbody>
      </table>
      <div class="response-container" id="res-anime-list">
        <h4>Contoh Respon (dari <code>README.md</code>)</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": [
    {
      "<span class="key">"id"</span>": <span class="string">"11382"</span>,
      "<span class="key">"title"</span>": <span class="string">"One-Punch Man Season 3"</span>,
      "<span class="key">"link"</span>": <span class="string">"https://www.livechart.me/anime/11382"</span>,
      "<span class="key">"status"</span>": <span class="string">"Ongoing"</span>,
      "<span class="key">"episodes"</span>": <span class="string">"EP6"</span>,
      "<span class="key">"studio"</span>": <span class="string">"J.C.STAFF"</span>,
      "<span class="key">"score"</span>": <span class="string">"7.47"</span>,
      "<span class="key">"poster"</span>": <span class="string">"https://..."</span>
    }
  ],
  "<span class="key">"total"</span>": <span class="number">96</span>,
  "<span class="key">"season"</span>": <span class="string">"fall"</span>,
  "<span class="key">"year"</span>": <span class="string">"2025"</span>,
  "<span class="key">"cached"</span>": <span class="boolean">false</span>,
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>

      <h3>Urutkan Anime</h3>
      <div class="endpoint-url interactive" data-target="#res-anime-sort"><span class="toggle-icon">[ + ]</span><span
          class="method get">GET</span> /api/anime/sort</div>
      <p>Mengambil daftar anime yang diurutkan. Opsi sortir valid: <code>rating</code>, <code>title</code>,
        <code>episodes</code>, <code>airdates</code>.
      </p>
      <h4>Parameter Kueri</h4>
      <table>
        <tbody>
          <tr>
            <td><code>sortBy</code></td>
            <td>String</td>
            <td>Opsional. Kriteria sortir (default: <code>rating</code>).</td>
          </tr>
          <tr>
            <td><code>order</code></td>
            <td>String</td>
            <td>Opsional. Urutan (<code>asc</code> atau <code>desc</code>, default: <code>desc</code>).</td>
          </tr>
          <tr>
            <td><code>season</code>, <code>year</code></td>
            <td>String, Integer</td>
            <td>Opsional. Filter berdasarkan musim/tahun.</td>
          </tr>
        </tbody>
      </table>
      <div class="response-container" id="res-anime-sort">
        <h4>Contoh Respon (Struktur sama seperti /api/anime)</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": [ ... data anime terurut ... ],
  "<span class="key">"total"</span>": <span class="number">96</span>,
  "<span class="key">"sortBy"</span>": <span class="string">"rating"</span>,
  "<span class="key">"order"</span>": <span class="string">"desc"</span>,
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>

      <h3>Cari Anime</h3>
      <div class="endpoint-url interactive" data-target="#res-anime-search"><span class="toggle-icon">[ + ]</span><span
          class="method get">GET</span> /api/anime/search/:title</div>
      <p>Mencari anime berdasarkan judul. Minimal 2 karakter.</p>
      <div class="response-container" id="res-anime-search">
        <h4>Contoh Respon (untuk <code>/api/anime/search/One-Punch</code>)</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": [
    {
      "<span class="key">"id"</span>": <span class="string">"11382"</span>,
      "<span class="key">"title"</span>": <span class="string">"One-Punch Man Season 3"</span>,
      ...
    }
  ],
  "<span class="key">"total"</span>": <span class="number">1</span>,
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>

      <h3>Filter Anime berdasarkan Status</h3>
      <div class="endpoint-url interactive" data-target="#res-anime-filter"><span class="toggle-icon">[ + ]</span><span
          class="method get">GET</span> /api/anime/filter/status/:status</div>
      <p>Mendapatkan anime yang cocok dengan status tertentu (mis. <code>ongoing</code>, <code>upcoming</code>).</p>
      <div class="response-container" id="res-anime-filter">
        <h4>Contoh Respon (untuk <code>/api/anime/filter/status/ongoing</code>)</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": [ ... data anime ongoing ... ],
  "<span class="key">"total"</span>": <span class="number">30</span>,
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>

      <h3>Dapatkan Anime berdasarkan ID</h3>
      <div class="endpoint-url interactive" data-target="#res-anime-by-id"><span class="toggle-icon">[ + ]</span><span
          class="method get">GET</span> /api/anime/:id</div>
      <p>Mendapatkan detail anime tunggal dari daftar cache.</p>
      <div class="response-container" id="res-anime-by-id">
        <h4>Contoh Respon (untuk <code>/api/anime/11382</code>)</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": {
    "<span class="key">"id"</span>": <span class="string">"11382"</span>,
    "<span class="key">"title"</span>": <span class="string">"One-Punch Man Season 3"</span>,
    ...
  },
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>

      <h3>Refresh Cache Anime</h3>
      <div class="endpoint-url interactive" data-target="#res-anime-refresh"><span class="toggle-icon">[ + ]</span><span
          class="method post">POST</span> /api/anime/refresh</div>
      <p>Memaksa server untuk melakukan scrape ulang data anime.</p>
      <div class="response-container" id="res-anime-refresh">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"message"</span>": <span class="string">"Cache refreshed successfully"</span>,
  "<span class="key">"data"</span>": [ ... data anime baru ... ],
  "<span class="key">"total"</span>": <span class="number">96</span>,
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>
    </section>

    <section id="anime-detail">
      <h2>Anime (Detail)</h2>
      <p>Endpoint ini melakukan scrape langsung ke halaman detail anime di LiveChart untuk mendapatkan informasi yang
        lebih kaya.</p>

      <h3>Dapatkan Detail Lengkap</h3>
      <div class="endpoint-url interactive" data-target="#res-detail-get"><span class="toggle-icon">[ + ]</span><span
          class="method get">GET</span> /api/detail/:id</div>
      <p>Mengambil data detail lengkap untuk sebuah anime berdasarkan ID-nya.</p>
      <div class="response-container" id="res-detail-get">
        <h4>Contoh Respon (dari <code>DETAIL_SCRAPER.md</code>)</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": {
    "<span class="key">"id"</span>": <span class="string">"12692"</span>,
    "<span class="key">"title"</span>": <span class="string">"SPY x FAMILY Season 3"</span>,
    "<span class="key">"originalTitle"</span>": <span class="string">"SPYÃ—FAMILY Season 3"</span>,
    "<span class="key">"poster"</span>": <span class="string">"https://..."</span>,
    "<span class="key">"rating"</span>": <span class="number">8.06</span>,
    "<span class="key">"ratingsCount"</span>": <span class="string">"473"</span>,
    "<span class="key">"status"</span>": <span class="string">"Releasing"</span>,
    "<span class="key">"format"</span>": <span class="string">"TV"</span>,
    "<span class="key">"source"</span>": <span class="string">"Manga"</span>,
    "<span class="key">"totalEpisodes"</span>": <span class="number">13</span>,
    "<span class="key">"currentEpisode"</span>": <span class="number">8</span>,
    "<span class="key">"runTime"</span>": <span class="string">"24m"</span>,
    "<span class="key">"season"</span>": <span class="string">"Fall 2025"</span>,
    "<span class="key">"premiere"</span>": <span class="string">"Oct 4, 2025"</span>,
    "<span class="key">"studios"</span>": [<span class="string">"WIT STUDIO"</span>, <span class="string">"CloverWorks"</span>],
    "<span class="key">"tags"</span>": [<span class="string">"Action"</span>, <span class="string">"Comedy"</span>, <span class="string">"Childcare"</span>],
    "<span class="key">"synopsis"</span>": <span class="string">"No synopsis has been added..."</span>,
    "<span class="key">"streaming"</span>": <span class="string">"Available on multiple platforms"</span>,
    "<span class="key">"links"</span>": { ... }
  },
  "<span class="key">"cached"</span>": <span class="boolean">false</span>,
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>

      <h3>Dapatkan Sinopsis</h3>
      <div class="endpoint-url interactive" data-target="#res-detail-synopsis"><span class="toggle-icon">[ +
          ]</span><span class="method get">GET</span> /api/detail/:id/synopsis</div>
      <p>Hanya mengembalikan ID, judul, dan sinopsis.</p>
      <div class="response-container" id="res-detail-synopsis">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": {
    "<span class="key">"id"</span>": <span class="string">"12692"</span>,
    "<span class="key">"title"</span>": <span class="string">"SPY x FAMILY Season 3"</span>,
    "<span class="key">"synopsis"</span>": <span class="string">"No synopsis has been added..."</span>
  },
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>

      <h3>Dapatkan Info Streaming</h3>
      <div class="endpoint-url interactive" data-target="#res-detail-streaming"><span class="toggle-icon">[ +
          ]</span><span class="method get">GET</span> /api/detail/:id/streaming</div>
      <p>Hanya mengembalikan ID, judul, info streaming, dan link eksternal.</p>
      <div class="response-container" id="res-detail-streaming">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": {
    "<span class="key">"id"</span>": <span class="string">"12692"</span>,
    "<span class="key">"title"</span>": <span class="string">"SPY x FAMILY Season 3"</span>,
    "<span class="key">"streaming"</span>": <span class="string">"Available on multiple platforms"</span>,
    "<span class="key">"links"</span>": { ... }
  },
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>

      <h3>Dapatkan Statistik</h3>
      <div class="endpoint-url interactive" data-target="#res-detail-stats"><span class="toggle-icon">[ + ]</span><span
          class="method get">GET</span> /api/detail/:id/stats</div>
      <p>Hanya mengembalikan ID, judul, dan data terkait statistik (rating, status, episode).</p>
      <div class="response-container" id="res-detail-stats">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": {
    "<span class="key">"id"</span>": <span class="string">"12692"</span>,
    "<span class="key">"title"</span>": <span class="string">"SPY x FAMILY Season 3"</span>,
    "<span class="key">"rating"</span>": <span class="number">8.06</span>,
    "<span class="key">"ratingsCount"</span>": <span class="string">"473"</span>,
    "<span class="key">"totalEpisodes"</span>": <span class="number">13</span>,
    "<span class="key">"currentEpisode"</span>": <span class="number">8</span>,
    "<span class="key">"status"</span>": <span class="string">"Releasing"</span>
  },
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>
    </section>

    <section id="movie-list">
      <h2>Movie (Daftar)</h2>
      <p>Alias <code>/api/movie</code> dan <code>/api/movies</code> keduanya berfungsi.</p>

      <h3>Dapatkan Semua Movie</h3>
      <div class="endpoint-url interactive" data-target="#res-movie-list"><span class="toggle-icon">[ + ]</span><span
          class="method get">GET</span> /api/movies</div>
      <p>Mengambil daftar semua movie untuk musim/tahun yang ditentukan.</p>
      <div class="response-container" id="res-movie-list">
        <h4>Contoh Respon (dari <code>MOVIE_SCRAPER.md</code>)</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": [
    {
      "<span class="key">"id"</span>": <span class="string">"movie-12345"</span>,
      "<span class="key">"title"</span>": <span class="string">"Movie Title"</span>,
      "<span class="key">"link"</span>": <span class="string">"https://www.livechart.me/anime/movie-12345"</span>,
      "<span class="key">"status"</span>": <span class="string">"Releasing"</span>,
      "<span class="key">"episodes"</span>": <span class="string">"N/A"</span>,
      "<span class="key">"studio"</span>": <span class="string">"Studio Name"</span>,
      "<span class="key">"score"</span>": <span class="string">"8.5"</span>,
      "<span class="key">"poster"</span>": <span class="string">"https://..."</span>
    }
  ],
  "<span class="key">"total"</span>": <span class="number">15</span>,
  "<span class="key">"cached"</span>": <span class="boolean">false</span>,
  "<span class="key">"type"</span>": <span class="string">"movie"</span>,
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>

      <h3>Urutkan Movie</h3>
      <div class="endpoint-url"><span class="method get">GET</span> /api/movies/sort</div>
      <p>Mengurutkan daftar movie. Parameter sama dengan <code>/api/anime/sort</code>.</p>

      <h3>Refresh Cache Movie</h3>
      <div class="endpoint-url interactive" data-target="#res-movie-refresh"><span class="toggle-icon">[ + ]</span><span
          class="method post">POST</span> /api/movies/refresh</div>
      <p>Memaksa scrape ulang data movie.</p>
      <div class="response-container" id="res-movie-refresh">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"message"</span>": <span class="string">"Movie cache refreshed successfully"</span>,
  "<span class="key">"data"</span>": [ ... data movie baru ... ],
  "<span class="key">"total"</span>": <span class="number">15</span>,
  "<span class="key">"type"</span>": <span class="string">"movie"</span>
}</code></pre>
      </div>
    </section>

    <section id="movie-detail">
      <h2>Movie (Detail)</h2>
      <p>Mengambil detail spesifik untuk movie.</p>

      <h3>Dapatkan Detail Movie Lengkap</h3>
      <div class="endpoint-url interactive" data-target="#res-movie-detail-get"><span class="toggle-icon">[ +
          ]</span><span class="method get">GET</span> /api/movies/detail/:id</div>
      <p>Mengambil data detail lengkap untuk sebuah movie berdasarkan ID-nya.</p>
      <div class="response-container" id="res-movie-detail-get">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": {
    "<span class="key">"id"</span>": <span class="string">"movie-12345"</span>,
    "<span class="key">"title"</span>": <span class="string">"Movie Title"</span>,
    "<span class="key">"rating"</span>": <span class="number">8.5</span>,
    "<span class="key">"status"</span>": <span class="string">"Releasing"</span>,
    "<span class="key">"format"</span>": <span class="string">"Movie"</span>,
    "<span class="key">"source"</span>": <span class="string">"Original"</span>,
    "<span class="key">"runTime"</span>": <span class="string">"120m"</span>,
    "<span class="key">"releaseDate"</span>": <span class="string">"Oct 25, 2025"</span>,
    "<span class="key">"studios"</span>": [<span class="string">"Studio Name"</span>],
    "<span class="key">"tags"</span>": [<span class="string">"Action"</span>, <span class="string">"Fantasy"</span>],
    "<span class="key">"synopsis"</span>": <span class="string">"Synopsis for the movie..."</span>,
    ...
  },
  "<span class="key">"cached"</span>": <span class="boolean">false</span>
}</code></pre>
      </div>

      <h3>Dapatkan Sinopsis Movie</h3>
      <div class="endpoint-url"><span class="method get">GET</span> /api/movies/detail/:id/synopsis</div>
      <p>Hanya mengembalikan ID, judul, dan sinopsis movie.</p>

      <h3>Dapatkan Info Streaming Movie</h3>
      <div class="endpoint-url"><span class="method get">GET</span> /api/movies/detail/:id/streaming</div>
      <p>Hanya mengembalikan ID, judul, info streaming, dan link eksternal movie.</p>

      <h3>Dapatkan Statistik Movie</h3>
      <div class="endpoint-url"><span class="method get">GET</span> /api/movies/detail/:id/stats</div>
      <p>Hanya mengembalikan ID, judul, dan data terkait statistik movie.</p>
    </section>

    <section id="ova-list">
      <h2>OVA (Daftar)</h2>
      <p>Alias <code>/api/ova</code> dan <code>/api/ovas</code> keduanya berfungsi.</p>

      <h3>Dapatkan Semua OVA</h3>
      <div class="endpoint-url"><span class="method get">GET</span> /api/ovas</div>
      <p>Mengambil daftar semua OVA untuk musim/tahun yang ditentukan.</p>

      <h3>Urutkan OVA</h3>
      <div class="endpoint-url"><span class="method get">GET</span> /api/ovas/sort</div>
      <p>Mengurutkan daftar OVA. Parameter sama dengan <code>/api/anime/sort</code>.</p>

      <h3>Refresh Cache OVA</h3>
      <div class="endpoint-url"><span class="method post">POST</span> /api/ovas/refresh</div>
      <p>Memaksa scrape ulang data OVA.</p>
    </section>

    <section id="all-list">
      <h2>Semua (Daftar)</h2>
      <p>Mengambil semua entri (TV, Movie, OVA) dari halaman <code>/all</code>.</p>

      <h3>Dapatkan Semua Entri</h3>
      <div class="endpoint-url"><span class="method get">GET</span> /api/all</div>
      <p>Mengambil daftar semua entri untuk musim/tahun yang ditentukan.</p>

      <h3>Refresh Cache Semua</h3>
      <div class="endpoint-url"><span class="method post">POST</span> /api/all/refresh</div>
      <p>Memaksa scrape ulang data 'all'.</p>
    </section>

    <section id="statistik">
      <h2>Statistik</h2>
      <p>Menghasilkan statistik agregat berdasarkan data yang di-scrape.</p>

      <h3>Total Anime</h3>
      <div class="endpoint-url interactive" data-target="#res-stats-total"><span class="toggle-icon">[ + ]</span><span
          class="method get">GET</span> /api/stats/total-anime</div>
      <p>Mengembalikan jumlah total anime, rata-rata rating, dan rincian status.</p>
      <div class="response-container" id="res-stats-total">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": {
    "<span class="key">"total"</span>": <span class="number">96</span>,
    "<span class="key">"averageRating"</span>": <span class="string">"6.85"</span>,
    "<span class="key">"statusBreakdown"</span>": {
      "<span class="key">"Ongoing"</span>": <span class="number">30</span>,
      "<span class="key">"Upcoming"</span>": <span class="number">50</span>,
      "<span class="key">"Finished"</span>": <span class="number">10</span>,
      "<span class="key">"Unknown"</span>": <span class="number">6</span>
    },
    "<span class="key">"season"</span>": <span class="string">"fall"</span>,
    "<span class="key">"year"</span>": <span class="string">"2025"</span>
  },
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>

      <h3>Statistik per Genre</h3>
      <div class="endpoint-url interactive" data-target="#res-stats-genre"><span class="toggle-icon">[ + ]</span><span
          class="method get">GET</span> /api/stats/by-genre</div>
      <p>Mengembalikan jumlah anime, rata-rata rating, dan daftar judul per genre.</p>
      <div class="response-container" id="res-stats-genre">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": {
    "<span class="key">"total"</span>": <span class="number">25</span>,
    "<span class="key">"genres"</span>": {
      "<span class="key">"Action"</span>": {
        "<span class="key">"count"</span>": <span class="number">15</span>,
        "<span class="key">"totalRating"</span>": <span class="number">105.5</span>,
        "<span class="key">"avgRating"</span>": <span class="string">"7.03"</span>,
        "<span class="key">"titles"</span>": [<span class="string">"Anime A"</span>, <span class="string">"Anime B"</span>, ...]
      },
      "<span class="key">"Comedy"</span>": {
        "<span class="key">"count"</span>": <span class="number">10</span>,
        ...
      }
    },
    "<span class="key">"season"</span>": <span class="string">"fall"</span>,
    "<span class="key">"year"</span>": <span class="string">"2025"</span>
  },
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>

      <h3>Statistik per Studio</h3>
      <div class="endpoint-url interactive" data-target="#res-stats-studio"><span class="toggle-icon">[ + ]</span><span
          class="method get">GET</span> /api/stats/by-studio</div>
      <p>Mengembalikan jumlah anime, rata-rata rating, dan daftar judul per studio.</p>
      <div class="response-container" id="res-stats-studio">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": {
    "<span class="key">"total"</span>": <span class="number">40</span>,
    "<span class="key">"studios"</span>": {
      "<span class="key">"J.C.STAFF"</span>": {
        "<span class="key">"count"</span>": <span class="number">5</span>,
        "<span class="key">"totalRating"</span>": <span class="number">35.0</span>,
        "<span class="key">"avgRating"</span>": <span class="string">"7.00"</span>,
        "<span class="key">"titles"</span>": [<span class="string">"Anime A"</span>, ...]
      },
      "<span class="key">"WIT STUDIO"</span>": { ... }
    },
    "<span class="key">"season"</span>": <span class="string">"fall"</span>,
    "<span class="key">"year"</span>": <span class="string">"2025"</span>
  },
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>

      <h3>Statistik per Musim</h3>
      <div class="endpoint-url interactive" data-target="#res-stats-season"><span class="toggle-icon">[ + ]</span><span
          class="method get">GET</span> /api/stats/by-season</div>
      <p>Mengembalikan statistik untuk semua 4 musim di tahun berjalan.</p>
      <div class="response-container" id="res-stats-season">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">true</span>,
  "<span class="key">"data"</span>": {
    "<span class="key">"year"</span>": <span class="number">2025</span>,
    "<span class="key">"seasons"</span>": {
      "<span class="key">"winter"</span>": {
        "<span class="key">"total"</span>": <span class="number">80</span>,
        "<span class="key">"averageRating"</span>": <span class="string">"6.90"</span>,
        "<span class="key">"statusBreakdown"</span>": { ... }
      },
      "<span class="key">"spring"</span>": { ... },
      "<span class="key">"summer"</span>": { ... },
      "<span class="key">"fall"</span>": { ... }
    }
  },
  "<span class="key">"timestamp"</span>": <span class="string">"..."</span>
}</code></pre>
      </div>
    </section>

    <section id="export">
      <h2>Export JSON</h2>
      <p>Mengekspor data detail ke file JSON yang dapat diunduh.</p>

      <h3>Export Satu Anime</h3>
      <div class="endpoint-url interactive" data-target="#res-export-anime-single"><span class="toggle-icon">[ +
          ]</span><span class="method get">GET</span> /api/detail/:id/export</div>
      <p>Mengunduh file JSON berisi detail lengkap untuk satu anime.</p>
      <div class="response-container" id="res-export-anime-single">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <p><strong>Content-Disposition:</strong>
          <code>attachment; filename="anime_12692_SPY_x_FAMILY_Season_3.json"</code>
        </p>
        <pre><code class="language-json json">{
  "<span class="key">"exportedAt"</span>": <span class="string">"2025-11-16T20:39:00.000Z"</span>,
  "<span class="key">"source"</span>": <span class="string">"LiveChart API"</span>,
  "<span class="key">"anime"</span>": {
    "<span class="key">"id"</span>": <span class="string">"12692"</span>,
    "<span class="key">"title"</span>": <span class="string">"SPY x FAMILY Season 3"</span>,
    ...
  }
}</code></pre>
      </div>

      <h3>Export Banyak Anime</h3>
      <div class="endpoint-url interactive" data-target="#res-export-anime-multi"><span class="toggle-icon">[ +
          ]</span><span class="method post">POST</span> /api/detail/export-multiple</div>
      <p>Mengunduh file JSON berisi array detail anime. Maksimal 50 ID per request.</p>
      <h4>Parameter Body (JSON)</h4>
      <pre><code class="language-json json">{
  "<span class="key">"ids"</span>": [<span class="string">"12692"</span>, <span class="string">"11382"</span>, <span class="string">"12697"</span>]
}</code></pre>
      <div class="response-container" id="res-export-anime-multi">
        <h4>Contoh Respon</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-ok">200 OK</span></div>
        <p><strong>Content-Disposition:</strong> <code>attachment; filename="anime_export_1700000000000.json"</code></p>
        <pre><code class="language-json json">{
  "<span class="key">"exportedAt"</span>": <span class="string">"2025-11-16T20:39:00.000Z"</span>,
  "<span class="key">"source"</span>": <span class="string">"LiveChart API"</span>,
  "<span class="key">"totalAnime"</span>": <span class="number">3</span>,
  "<span class="key">"anime"</span>": [
    { "<span class="key">"id"</span>": <span class="string">"12692"</span>, ... },
    { "<span class="key">"id"</span>": <span class="string">"11382"</span>, ... },
    { "<span class="key">"id"</span>": <span class="string">"12697"</span>, ... }
  ]
}</code></pre>
      </div>

      <h3>Contoh Error Export</h3>
      <div class="endpoint-url interactive" data-target="#res-export-anime-error"><span class="toggle-icon">[ +
          ]</span><span class="method post">POST</span> /api/detail/export-multiple</div>
      <p>Contoh respons jika body request tidak valid (berdasarkan <code>EXPORT_JSON.md</code>).</p>
      <h4>Parameter Body (JSON)</h4>
      <pre><code class="language-json json">{ }</code></pre>
      <div class="response-container" id="res-export-anime-error">
        <h4>Contoh Respon (Error)</h4>
        <div class="status-code"><strong>Status:</strong> <span class="status-error">400 Bad Request</span></div>
        <pre><code class="language-json json">{
  "<span class="key">"success"</span>": <span class="boolean">false</span>,
  "<span class="key">"error"</span>": <span class="string">"Array of anime IDs diperlukan dalam request body"</span>,
  "<span class="key">"timestamp"</span>": <span class="string">"2025-11-16T20:39:00.000Z"</span>
}</code></pre>
      </div>

      <h3>Export Satu Movie</h3>
      <div class="endpoint-url"><span class="method get">GET</span> /api/movies/detail/:id/export</div>
      <p>Mengunduh file JSON berisi detail lengkap untuk satu movie.</p>

      <h3>Export Banyak Movie</h3>
      <div class="endpoint-url"><span class="method post">POST</span> /api/movies/detail/export-multiple</div>
      <p>Mengunduh file JSON berisi array detail movie.</p>
    </section>
  </main>

  <script>
    // Skrip sederhana untuk menyorot link nav yang aktif saat scroll
    document.addEventListener('DOMContentLoaded', () => {
      const sections = document.querySelectorAll('main section');
      const navLinks = document.querySelectorAll('nav.sidebar a');

      // --- Nav Scroll ---
      const makeActive = (link) => {
        navLinks.forEach(nav => nav.classList.remove('active'));
        const activeLink = document.querySelector(`nav.sidebar a[href="#${link}"]`);
        if (activeLink) {
          activeLink.classList.add('active');
        }
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            makeActive(entry.target.id);
          }
        });
      }, { threshold: 0.2, rootMargin: '0px 0px -50% 0px' });

      sections.forEach(section => {
        observer.observe(section);
      });

      if (window.location.hash) {
        makeActive(window.location.hash.substring(1));
      } else {
        makeActive('memulai');
      }

      // --- Sintaks highlighting JSON sederhana ---
      document.querySelectorAll('pre code.json').forEach(block => {
        let text = block.innerHTML;
        text = text.replace(/"([^"]+)":/g, '<span class="key">"$1"</span>:'); // Keys
        text = text.replace(/: "([^"]*)"/g, ': <span class="string">"$1"</span>'); // Strings
        text = text.replace(/: (\d+\.?\d*)/g, ': <span class="number">$1</span>'); // Numbers
        text = text.replace(/: (true|false)/g, ': <span class="boolean">$1</span>'); // Booleans
        text = text.replace(/: (null)/g, ': <span class="null">$1</span>'); // Nulls
        block.innerHTML = text;
      });

      // --- Real-time API Status Monitoring ---
      const API_BASE = 'https://live-chart-api.vercel.app';
      const statusIndicator = document.getElementById('statusIndicator');
      const statusDot = statusIndicator.querySelector('.status-dot');
      const statusText = statusIndicator.querySelector('.status-text');
      const statusTime = document.getElementById('statusTime');

      async function checkAPIStatus() {
        try {
          statusIndicator.classList.remove('error');
          statusIndicator.classList.add('loading');
          statusDot.classList.add('loading');
          statusText.textContent = 'Checking API status...';

          const response = await fetch(`${API_BASE}/api/health`, {
            method: 'GET',
            headers: { 'Accept': 'application/json' }
          });

          if (response.ok) {
            const data = await response.json();
            statusIndicator.classList.remove('loading');
            statusDot.classList.remove('loading');
            statusDot.classList.remove('error');
            statusText.textContent = 'âœ“ API is Online';
            statusTime.textContent = new Date().toLocaleTimeString('id-ID');
          } else {
            throw new Error(`HTTP ${response.status}`);
          }
        } catch (error) {
          statusIndicator.classList.remove('loading');
          statusIndicator.classList.add('error');
          statusDot.classList.remove('loading');
          statusDot.classList.add('error');
          statusText.textContent = 'âœ— API is Offline';
          statusTime.textContent = new Date().toLocaleTimeString('id-ID');
          console.error('Status check failed:', error);
        }
      }

      // Check status on page load
      checkAPIStatus();

      // Check status every 30 seconds
      setInterval(checkAPIStatus, 30000);

      // --- Theme Toggle ---
      const themeToggle = document.getElementById('themeToggle');
      const html = document.documentElement;

      // Load saved theme preference
      const savedTheme = localStorage.getItem('theme') || 'light';
      if (savedTheme === 'dark') {
        html.classList.add('dark-mode');
        themeToggle.textContent = 'â˜€ï¸ Light Mode';
      }

      themeToggle.addEventListener('click', function() {
        html.classList.toggle('dark-mode');
        const isDark = html.classList.contains('dark-mode');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
        themeToggle.textContent = isDark ? 'â˜€ï¸ Light Mode' : 'ðŸŒ™ Dark Mode';
      });

      // --- Toggle untuk Endpoint Interaktif ---
      document.addEventListener('click', function (e) {
        // Handle opening endpoint in new tab
        const openBtn = e.target.closest('.endpoint-open-btn');
        if (openBtn) {
          e.preventDefault();
          e.stopPropagation();
          const path = openBtn.dataset.path;
          if (path) {
            window.open(API_BASE + path, '_blank');
          }
          return;
        }

        const trigger = e.target.closest('.endpoint-url.interactive');
        if (!trigger) return;

        const targetId = trigger.dataset.target;
        const responseContainer = document.querySelector(targetId);
        const icon = trigger.querySelector('.toggle-icon');

        if (!responseContainer) return;

        // Toggle visibility
        responseContainer.classList.toggle('visible');
        trigger.classList.toggle('active');

        // Update ikon
        const isVisible = responseContainer.classList.contains('visible');
        if (icon) {
          icon.textContent = isVisible ? '[ - ]' : '[ + ]';
        }
      });

      // --- Smooth scroll for navigation ---
      document.querySelectorAll('nav.sidebar a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({ behavior: 'smooth' });
            // Update active link
            document.querySelectorAll('nav.sidebar a').forEach(a => a.classList.remove('active'));
            this.classList.add('active');
          }
        });
      });

      // --- Real-time Response Fetching ---
      async function fetchAndDisplayResponse(endpoint, containerId, method = 'GET') {
        try {
          const container = document.getElementById(containerId);
          if (!container) return;

          const statusCodeEl = container.querySelector('.status-code');
          const preEl = container.querySelector('pre');
          
          if (!statusCodeEl || !preEl) return;

          // Show loading state
          statusCodeEl.innerHTML = '<strong>Status:</strong> <span class="status-ok">Loading...</span>';
          preEl.textContent = 'Fetching data...';

          const response = await fetch(`${API_BASE}${endpoint}`, {
            method: method,
            headers: { 'Accept': 'application/json' }
          });

          const data = await response.json();
          const statusText = response.ok ? `${response.status} OK` : `${response.status} Error`;
          const statusClass = response.ok ? 'status-ok' : 'status-error';

          // Update status
          statusCodeEl.innerHTML = `<strong>Status:</strong> <span class="${statusClass}">${statusText}</span>`;

          // Format and display JSON
          preEl.textContent = JSON.stringify(data, null, 2);
          preEl.className = 'language-json json';

          // Re-apply syntax highlighting
          let text = preEl.innerHTML;
          text = text.replace(/"([^"]+)":/g, '<span class="key">"$1"</span>:');
          text = text.replace(/: "([^"]*)"/g, ': <span class="string">"$1"</span>');
          text = text.replace(/: (\d+\.?\d*)/g, ': <span class="number">$1</span>');
          text = text.replace(/: (true|false)/g, ': <span class="boolean">$1</span>');
          text = text.replace(/: (null)/g, ': <span class="null">$1</span>');
          preEl.innerHTML = text;
        } catch (error) {
          const container = document.getElementById(containerId);
          if (!container) return;

          const statusCodeEl = container.querySelector('.status-code');
          const preEl = container.querySelector('pre');

          if (statusCodeEl) {
            statusCodeEl.innerHTML = `<strong>Status:</strong> <span class="status-error">Error</span>`;
          }
          if (preEl) {
            preEl.textContent = JSON.stringify({
              success: false,
              error: error.message,
              timestamp: new Date().toISOString()
            }, null, 2);
          }
        }
      }

      // --- Attach click handlers to response containers ---
      document.addEventListener('click', function (e) {
        const trigger = e.target.closest('.endpoint-url.interactive');
        if (!trigger) return;

        const targetId = trigger.dataset.target;
        const responseContainer = document.querySelector(targetId);
        
        if (!responseContainer) return;

        // Check if response was already fetched
        if (!responseContainer.dataset.fetched) {
          const endpoint = trigger.textContent.match(/\/[^\s]*/)?.[0] || '/';
          const method = trigger.querySelector('.method')?.classList.contains('post') ? 'POST' : 'GET';
          
          // Fetch real-time data
          fetchAndDisplayResponse(endpoint, targetId, method);
          responseContainer.dataset.fetched = 'true';
        }
      });

      // --- Auto-fetch critical endpoints on load ---
      setTimeout(() => {
        fetchAndDisplayResponse('/api/health', 'res-info-health', 'GET');
        fetchAndDisplayResponse('/', 'res-info-root', 'GET');
      }, 1000);
    });
  </script>
</body>

</html>